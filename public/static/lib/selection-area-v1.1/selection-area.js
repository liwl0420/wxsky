!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var a=e();for(var s in a)("object"==typeof exports?exports:t)[s]=a[s]}}(window,function(){return function(t){var e={};function a(s){if(e[s])return e[s].exports;var r=e[s]={i:s,l:!1,exports:{}};return t[s].call(r.exports,r,r.exports,a),r.l=!0,r.exports}return a.m=t,a.c=e,a.d=function(t,e,s){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(a.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)a.d(s,r,function(e){return t[e]}.bind(null,r));return s},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="",a(a.s=0)}([function(t,e,a){"use strict";a.r(e);class s{constructor(t){this.data=t}container(){if(!Object.prototype.hasOwnProperty.call(this.data,"container")||!this.data.container instanceof HTMLElement)throw'"container" attribute must be defined';return this.data.container}targets(){if(Object.prototype.hasOwnProperty.call(this.data,"targets")){if("string"==typeof this.data.targets)return[this.data.targets];if(this.data.targets instanceof Array){let t=this.data.targets.filter(t=>"string"==typeof t);if(0===t.length)throw'"targets" property must be a String or a String Array.';return t}throw'"targets" attribute must be defined'}throw'"targets" attribute must be defined'}areaAttrs(){let t={};if(Object.prototype.hasOwnProperty.call(this.data,"area")){if("string"==typeof this.data.area)return{id:this.data.area};if(this.data.area instanceof Object)return Object.prototype.hasOwnProperty.call(this.data.area,"id")&&(t={id:this.data.area}),Object.prototype.hasOwnProperty.call(this.data.area,"class")&&(t.class=this.data.area.class),t;console.warn('"area" property must be a String or a Object.')}return t}touchable(){return Object.prototype.hasOwnProperty.call(this.data,"touchable")&&"boolean"==typeof this.data.touchable&&this.data.touchable}autostart(){return Object.prototype.hasOwnProperty.call(this.data,"autostart")&&"boolean"==typeof this.data.autostart&&this.data.autostart}callback(){return Object.prototype.hasOwnProperty.call(this.data,"callback")&&"function"==typeof this.data.callback?this.data.callback:null}}const r="selectionArea",i="position: absolute; z-index: 1000; top: 0; left: 0;";class n{constructor(t,e=0,a=0){this.id=Object.prototype.hasOwnProperty.call(t,"id")?t.id:r,this.class=!!Object.prototype.hasOwnProperty.call(t,"class")&&t.class,this.x=e,this.y=a,this.w=0,this.h=0}instance(t){let e=document.createElement("div");e.setAttribute("id",this.id),e.setAttribute("style",i),this.class&&e.setAttribute("class",this.class),t.appendChild(e),this.parent=t,this.elem=document.getElementById(this.id)}resize(t,e){this.w=Math.abs(this.x-t),this.h=Math.abs(this.y-e)}move(t,e){let a=this.y>=e?e:this.y,s=this.x>=t?t:this.x,r=this.w,i=this.h;this.elem.style.top=`${a}px`,this.elem.style.left=`${s}px`,this.elem.style.width=`${r}px`,this.elem.style.height=`${i}px`}destroy(){this.parent.contains(this.elem)&&this.parent.removeChild(this.elem)}isOver(t){let e=this.elem.getBoundingClientRect(),a=t.getBoundingClientRect(),s=e.top,r=e.left,i=e.top+e.height,n=e.left+e.width,o=a.top,h=a.left,c=a.top+a.height,l=a.left+a.width;return!(h>n||l<r||o>i||c<s)}}a.d(e,"SelectionArea",function(){return p});const o="mousedown",h="mousemove",c="mouseup",l="touchstart",u="touchmove",d="touchend";class p{constructor(t){let e=new s(t);try{this.container=e.container(t),this.targets=e.targets(t),this.areaAttributes=e.areaAttrs(t),this.touchable=e.touchable(t),this.autostart=e.autostart(t),this.callback=e.callback(t)}catch(t){throw t}this.autostart&&this.start()}onSelect(t){"function"!=typeof this.callback&&(this.callback=t)}start(){this.container.addEventListener(o,this),this.container.addEventListener(h,this),this.container.addEventListener(c,this),this.touchable&&(this.container.addEventListener(l,this),this.container.addEventListener(u,this),this.container.addEventListener(d,this))}stop(){this.container.removeEventListener(o,this),this.container.removeEventListener(h,this),this.container.removeEventListener(c,this),this.touchable&&(this.container.removeEventListener(l,this),this.container.removeEventListener(u,this),this.container.removeEventListener(d,this))}handleEvent(t){t.preventDefault();let e=this.touchable&&t.targetTouches&&t.targetTouches.length?t.targetTouches[0]:t,[a,s]=[e.pageX,e.pageY];switch(t.type){case o:case l:this.init(a,s);break;case h:case u:this.update(a,s);break;case c:case d:this.end(a,s)}}init(t,e){this.selected=[],this.area=new n(this.areaAttributes,t,e),this.area.instance(this.container)}update(t,e){this.area&&(this.area.resize(t,e),this.area.move(t,e))}end(){if(this.area){let t=[];this.targets.forEach(e=>{let a=this.container.querySelectorAll(e);Array.prototype.slice.call(a).forEach(e=>t.push(e))}),this.selected=t.filter(t=>this.area.isOver(t)&&-1===this.selected.indexOf(t)),this.area.destroy(),this.area=null,this.callback&&this.callback(this.selected)}}}}])});